(function(a){function b(){var a=[],b=!1;this.ready=function(c){b?c():a.push(c)},this.start=function(){b=!0,a.forEach(function(a){a()})}}a.SCRIPTS=new b})(window);/**
	Define Unicode Sinhale alphabet

	Signs = 3458 - 3459
	indepedentVowels = 3461 -3478.
	consonants = 3482 - 3526.
	dependentVowels = 3535 - 3571.
	punchuations = 3572
*/(function(a){function b(){this.getType=function(c){if(c){var d=c.toString().charCodeAt(0);return d>=3482&&d<=3526?b.CONSONANT:d>=3535&&d<=3571?b.DEPENDENT_VOWEL:d==3530||d==3458?b.DEPENDENT_VOWEL:d>=3461&&d<=3478?b.INDEPENDENT_VOWEL:d>=3458&&d<=3459?b.SIGN:d>=3458&&d<=3459?b.SIGN:d==3572?b.PUNCTUATION:b.OTHER}return b.OTHER}}b.INDEPENDENT_VOWEL=4,b.CONSONANT=8,b.DEPENDENT_VOWEL=16,b.PUNCTUATION=32,b.SIGN=64,b.OTHER=128,a.UnicodeSinhala=b})(window);(function(a){function b(){function e(e){var f=b.getType(e);f==UnicodeSinhala.INDEPENDENT_VOWEL?d.vowel&&d.vowel(e):f==UnicodeSinhala.CONSONANT?(c&&d.consonant&&d.consonant(c),c=e):f==UnicodeSinhala.DEPENDENT_VOWEL||f==UnicodeSinhala.SIGN?c&&(d.mixed&&d.mixed(c,e),c=null):(a.flush(),d.other&&d.other(e))}function f(a){return a?a.substring(0,1).toUpperCase()+a.substring(1):""}var a=this,b=new UnicodeSinhala,c=null,d={};["vowel","consonant","mixed","other"].forEach(function(b){a["on"+f(b)]=function(a){d[b]=a}}),this.write=function(b){if(b)for(var c=0;c<b.length;c++)e(b[c]);return a},this.flush=function(){c&&(d.consonant&&d.consonant(c),c=null)}}a.Tokenizer=b})(window);(function(a){function b(){function d(){return{",":'"',".":"'","(":"^",")":"￩","%":"]","/":"$","–":"ￔ","=":"ￏ","'":"ￎ","+":"¤","÷":"ￋ","'":"~","?":"@",":":"(","ත්‍රෛ":"ff;%","ශෛ":"ffY","චෛ":"ffp","කෛ":"ffl","මෛ":"ffu","පෛ":"ffm","දෛ":"ffo","තෛ":"ff;","නෛ":"ffk","ධෛ":"ffO","වෛ":"ffj","ප්‍රෞ":"fm%!","ෂ්‍යෝ":"fIHda","ඡ්‍යෝ":"fPHda","ඪ්‍යෝ":"fVHda","ඝ්‍යෝ":"f>Hda","ඛ්‍යෝ":"fLHda","ළ්‍යෝ":"f<Hda","ඵ්‍යෝ":"fMHda","ඨ්‍යෝ":"fGHda","ශ්‍යෝ":"fYHda","ක්‍ෂ්‍යෝ":"fÌHda","බ්‍යෝ":"fnHda","ච්‍යෝ":"fpHda","ඩ්‍යෝ":"fâHda","ෆ්‍යෝ":"f*Hda","ග්‍යෝ":"f.Hda","ක්‍යෝ":"flHda","ල්‍යෝ":"f,Hda","ම්‍යෝ":"fuHda","න්‍යෝ":"fkHda","ප්‍යෝ":"fmHda","ද්‍යෝ":"foHda","ස්‍යෝ":"fiHda","ට්‍යෝ":"fgHda","ව්‍යෝ":"fjHda","ත්‍යෝ":"f;Hda","භ්‍යෝ":"fNHda","ධ්‍යෝ":"fOHda","ථ්‍යෝ":"f:Hda","ෂ්‍යො":"fIHd","ශ්‍යො":"fYHd","ඛ්‍යො":"fLHd","ක්‍ෂ්‍යො":"fÌHd","බ්‍යො":"fnHd","ව්‍යො":"fjHd","ඩ්‍යො":"fvHd","ෆ්‍යො":"f*Hd","ග්‍යො":"f.Hd","ක්‍යො":"flHd","ම්‍යො":"fuHd","ප්‍යො":"fmHd","ද්‍යො":"foHd","ස්‍යො":"fiHd","ට්‍යො":"fgHd","ව්‍යො":"fjHd","ත්‍යො":"f;Hd","භ්‍යො":"fNHd","ධ්‍යො":"fOHd","ථ්‍යො":"f:Hd","ෂ්‍යෙ":"fIH","ඡ්‍යෙ":"fPH","ළ්‍යෙ":"f<H","ණ්‍යෙ":"fKH","ච්‍යෙ":"fpH","ල්‍යෙ":"f,H","න්‍යෙ":"fkH","ශ්‍යෙ":"fYH","ඛ්‍යෙ":"fLH","ක්‍ෂ්යෙ":"fÌH","බ්‍යෙ":"fnH","ඩ්‍යෙ":"fvH","ෆ්‍යෙ":"f*H","ග්‍යෙ":"f.H","ක්‍යෙ":"flH","ම්‍යෙ":"fuH","ප්‍යෙ":"fmH","ද්‍යෙ":"foH","ස්‍යෙ":"fiH","ට්‍යෙ":"fgH","ව්‍යෙ":"fjH","ත්‍යෙ":"f;H","භ්‍යෙ":"fNH","ධ්‍යෙ":"fOH","ථ්‍යෙ":"f:H","ෂ්‍රෝ":"fI%da","ඝ්‍රෝ":"f>%da","ශ්‍රෝ":"fY%da","ක්‍ෂ්‍රෝ":"fÌ%da","බ්‍රෝ":"fn%da","ඩ්‍රෝ":"fv%da","ෆ්‍රෝ":"f*%da","ග්‍රෝ":"f.%da","ක්‍රෝ":"fl%da","ප්‍රෝ":"fm%da","ද්‍රෝ":"føda","ස්‍රෝ":"fi%da","ට්‍රෝ":"fg%da","ත්‍රෝ":"f;%da","ශ්‍රො":"fY%d","ඩ්‍රො":"fv%d","ෆ්‍රො":"f*%d","ග්‍රො":"f.%d","ක්‍රො":"fl%d","ප්‍රො":"fm%d","ද්‍රො":"fød","ස්‍රො":"fi%d","ට්‍රො":"fg%d","ත්‍රො":"f;%d","ශ්‍රේ":"fYa","බ්‍රේ":"fí%","ඩ්‍රේ":"fâ%","ෆ්‍රේ":"f*a%","ග්‍රේ":"f.a%","ක්‍රේ":"fla%","ප්‍රේ":"fma%","ද්‍රේ":"føa","ස්‍රේ":"fia%","ත්‍රේ":"f;a%","ධ්‍රේ":"fè%","ෂ්‍රෙ":"fI%","ශ්‍රෙ":"fY%","බ්‍රෙ":"fn%","ෆ්‍රෙ":"f*%","ග්‍රෙ":"f.%","ක්‍රෙ":"fl%","ප්‍රෙ":"fm%","ද්‍රෙ":"fø","ස්‍රෙ":"fi%","ත්‍රෙ":"f;%","භ්‍රෙ":"fN%","ධ්‍රෙ":"fO%","්‍ය":"H","්‍ර":"%","ෂෞ":"fI!","ඡෞ":"fP!","ශෞ":"fY!","බෞ":"fn!","චෞ":"fp!","ඩෞ":"fv!","ෆෞ":"f*!","ගෞ":"f.!","කෞ":"fl!","ලෞ":"f,!","මෞ":"fu!","නෞ":"fk!","පෞ":"fm!","දෞ":"fo!","රෞ":"fr!","සෞ":"fi!","ටෞ":"fg!","තෞ":"f;!","භෞ":"fN!","ඤෞ":"f[!","ෂෝ":"fIda","ඹෝ":"fUda","ඡෝ":"fPda","ඪෝ":"fVda","ඝෝ":"f>da","ඛෝ":"fLda","ළෝ":"f<da","ණෝ":"fKda","ඵෝ":"fMda","ඨෝ":"fGda","ඬෝ":"fËda","ශෝ":"fYda","ඥෝ":"f{da","ඳෝ":"f|da","ක්‍ෂෝ":"fÌda","බෝ":"fnda","චෝ":"fpda","ඩෝ":"fvda","ෆෝ":"f*da","ගෝ":"f.da","හෝ":"fyda","කෝ":"flda","ලෝ":"f,da","මෝ":"fuda","නෝ":"fkda","පෝ":"fmda","දෝ":"foda","රෝ":"frda","සෝ":"fida","ටෝ":"fgda","වෝ":"fjda","තෝ":"f;da","භෝ":"fNda","යෝ":"fhda","ඤෝ":"f[da","ධෝ":"fOda","ථෝ":"f:da","ෂො":"fId","ඹො":"fUd","ඡො":"fPd","ඪො":"fVd","ඝො":"f>d","ඛො":"fLd","ළො":"f<d","ණො":"fKd","ඵො":"fMd","ඨො":"fGd","ඬො":"fËd","ශො":"fYd","ඥො":"f{d","ඳො":"f|d","ක්‍ෂො":"fÌd","බො":"fnd","චො":"fpd","ඩො":"fvd","ෆො":"f*d","ගො":"f.d","හො":"fyd","කො":"fld","ලො":"f,d","මො":"fud","නො":"fkd","පො":"fmd","දො":"fod","රො":"frd","සො":"fid","ටො":"fgd","වො":"fjd","තො":"f;d","භො":"fNd","යො":"fhd","ඤො":"f[d","ධො":"fOd","ථො":"f:d","ෂේ":"fIa","ඹේ":"fò","ඡේ":"fþ","ඪේ":"fa","ඝේ":"f>a","ඛේ":"fÄ","ළේ":"f<a","ණේ":"fKa","ඵේ":"fMa","ඨේ":"fGa","ඬේ":"få","ශේ":"fYa","ඥේ":"f{a","ඳේ":"f|a","ක්‍ෂේ":"fÌa","බේ":"fí","චේ":"fÉ","ඩේ":"fâ","ෆේ":"f*","ගේ":"f.a","හේ":"fya","පේ":"fma","කේ":"fla","ලේ":"f,a","මේ":"fï","නේ":"fka","දේ":"foa","රේ":"f¾","සේ":"fia","ටේ":"fÜ","වේ":"fõ","තේ":"f;a","භේ":"fNa","යේ":"fha","ඤේ":"f[a","ධේ":"fè","ථේ":"f:a","ෂෙ":"fI","ඹෙ":"fU","ඓ":"ft","ඡෙ":"fP","ඪෙ":"fV","ඝෙ":"f>","ඛෙ":"fn","ළෙ":"f<","ණෙ":"fK","ඵෙ":"fM","ඨෙ":"fG","ඬෙ":"fË","ශෙ":"fY","ඥෙ":"f{","ඳෙ":"fË","ක්‍ෂෙ":"fÌ","බෙ":"fn","චෙ":"fp","ඩෙ":"fv","ෆෙ":"f*","ගෙ":"f.","හෙ":"fy","කෙ":"fl","ලෙ":"f,","මෙ":"fu","නෙ":"fk","පෙ":"fm","දෙ":"fo","රෙ":"fr","සෙ":"fi","ටෙ":"fg","වෙ":"fj","තෙ":"f;","භෙ":"fN","යෙ":"fh","ඤෙ":"f[","ධෙ":"fO","ථෙ":"f:","තු":";=","ගු":".=","කු":"l=","තූ":";+","ගූ":".+","කූ":"l+","රු":"re","රූ":"rE","ආ":"wd","ඇ":"we","ඈ":"wE","ඌ":"W!","ඖ":"T!","ඒ":"ta","ඕ":"´","ඳි":"¢","ඳී":"£","දූ":"¥","දී":"§","ලූ":"¨","ර්‍ය":"©","ඳූ":"ª","ර්":"¾","ඨි":"À","ඨී":"Á","ඡී":"Â","ඛ්":"Ä","ඛි":"Å","ලු":"Æ","ඛී":"Ç","දි":"È","ච්":"É","රී":"Í","ඪී":"Î","ඪී":"Ð,","චි":"Ñ","ථී":"Ò","ථී":"Ó","චී":"Ö","ඞ්":"Ù","ඵී":"Ú","ට්":"Ü","ඵි":"Ý","රි":"ß","ටී":"à","ටි":"á","ඩ්":"â","ඩී":"ã","ඩි":"ä","ඬ්":"å","ඬි":"ç","ධ්":"è","ඬී":"é","ධි":"ê","ධී":"ë","බි":"ì","බ්":"í","බී":"î","ම්":"ï","මි":"ñ","ඹ්":"ò","මී":"ó","ඹි":"ô","ව්":"õ","ඹී":"ö","ඳු":"÷","ද්‍ර":"ø","වී":"ù","වි":"ú","ඞ්":"û","ඞී":"ü","ඡි":"ý","ඡ්":"þ","දු":"ÿ","ර්‍ණ":"“","ණී":"”","ඡි":"‰","ඤු":"™","ග":".","ළු":"¿","ෂ":"I","ං":"x","ඃ":"#","ඹ":"U","ඡ":"P","ඪ":"V","ඊ":"B","ඣ":"CO","ඛ":"L","ළ":"<","ණ":"K","ඵ":"M","ඨ":"G","ඃ":"#","/":"$",")":"&","-":")","ෆ":"*","ල":",","-":"-","රැ":"/","ථ":":","ත":";","ළ":"&#60;","ඝ":"&#62;","රෑ":"?","ඊ":"B","ක‍":"C","‍ෘ":"D","ෑ":"E","ත‍":"F","ඨ":"G","්‍ය":"H","ෂ":"I","න‍":"J","ණ":"K","ඛ":"L","ඵ":"M","භ":"N","ධ":"O","ඡ":"P","ඍ":"R","ඔ":"T","ඹ":"U","ඪ":"V","උ":"W","ශ":"Y","ඤ":"[","ඉ":"b","ට":"g","ය":"h","ස":"i","ව":"j","න":"k","ක":"l","ප":"m","බ":"n","ද":"o","ච":"p","ර":"r","එ":"t","ම":"u","ඩ":"v","අ":"w","හ":"y","ඥ":"{","ඳ":"|","ක්‍ෂ":"Ì","ැ":"e","ෑ":"E","ෙ":"f","ු":"q","ි":"s","ූ":"Q","ී":"S","ෘ":"D","ෲ":"DD","ෟ":"!","ා":"d","්":"a","￦":'"',"�":"'","￫":"^","￩":"&","ￔ":")","ￓ":"@","ￒ":"`","ￏ":"}","ￎ":"~","ￍ":"¤","ￌ":"•","ￊ":"›","ﾶ":"∙","ￕ":"]","=":"}","]":"‡","[":""," ":" ","ඟ":"Õ","ඟෝ":"fÕda","ඟො":"fÕd","ඟේ":"fÕa","ඟෙ":"fÕ","ඟී":"ÕS","ජෛ":"ffc","ජ්‍යෝ":"fcHda","ජ්‍යො":"fcHd","ජ්‍යෙ":"fcH","ජෞ":"fc!","ජෝ":"fcda","ජො":"fcd","ජේ":"fÊ","ජෙ":"fc","ජ්":"Ê","ජී":"Ô","ජි":"ð","ජ":"c","෴":"෴","\n":"\n","\r":"\r"}}var a=d(),b=new Tokenizer,c="";this.convert=function(d,e){function f(){otherBuffer&&(c+="<em>"+otherBuffer+"</em>",otherBuffer="")}return c="",otherBuffer="",b.onVowel(function(b){f(),c+=a[b]}),b.onConsonant(function(b){f(),c+=a[b]}),b.onMixed(function(b,d){f();var e=b+d;a[e]?c+=a[e]:(c+=a[b],c+=a[d])}),b.onOther(function(b){a[b]?(f(),c+=a[b]):otherBuffer+=b}),b.write(d).flush(),f(),c}}a.LegacyConverter=b})(window);/***********************************************
Copyright 2010, 2011, Chris Winberry <chris@winberry.net>. All rights reserved.
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to
deal in the Software without restriction, including without limitation the
rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
IN THE SOFTWARE.
***********************************************//* v1.7.4 */(function(){function a(){return typeof require=="function"&&typeof exports=="object"&&typeof module=="object"&&typeof __filename=="string"&&typeof __dirname=="string"}function c(a,b){this._options=b?b:{},this._options.includeLocation==undefined&&(this._options.includeLocation=!1),this.validateHandler(a),this._handler=a,this.reset()}function d(a,b){var c=function(){};c.prototype=b.prototype,a.super_=b,a.prototype=new c,a.prototype.constructor=a}if(!a()){if(!this.Tautologistics)this.Tautologistics={};else if(this.Tautologistics.NodeHtmlParser)return;this.Tautologistics.NodeHtmlParser={},exports=this.Tautologistics.NodeHtmlParser}var b={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};c._reTrim=/(^\s+|\s+$)/g,c._reTrimComment=/(^\!--|--$)/g,c._reWhitespace=/\s/g,c._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,c._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,c._reTags=/[\<\>]/g,c.prototype.parseComplete=function(b){this.reset(),this.parseChunk(b),this.done()},c.prototype.parseChunk=function(b){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=b,this.parseTags()},c.prototype.done=function(){if(this._done)return;this._done=!0;if(this._buffer.length){var d=this._buffer;this._buffer="";var e={raw:d,data:this._parseState==b.Text?d:d.replace(c._reTrim,""),type:this._parseState};if(this._parseState==b.Tag||this._parseState==b.Script||this._parseState==b.Style)e.name=this.parseTagName(e.data);this.parseAttribs(e),this._elements.push(e)}this.writeHandler(),this._handler.done()},c.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=b.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},c.prototype._options=null,c.prototype._handler=null,c.prototype._buffer=null,c.prototype._done=!1,c.prototype._elements=null,c.prototype._elementsCurrent=0,c.prototype._current=0,c.prototype._next=0,c.prototype._location=null,c.prototype._parseState=b.Text,c.prototype._prevTagSep="",c.prototype._tagStack=null,c.prototype.parseTagAttribs=function(c){var d=c.length,e=0;while(e<d){var f=c[e++];(f.type==b.Tag||f.type==b.Script||f.type==b.style)&&this.parseAttribs(f)}return c},c.prototype.parseAttribs=function(d){if(d.type!=b.Script&&d.type!=b.Style&&d.type!=b.Tag)return;var e=d.data.split(c._reWhitespace,1)[0],f=d.data.substring(e.length);if(f.length<1)return;var g;c._reAttrib.lastIndex=0;while(g=c._reAttrib.exec(f))d.attribs==undefined&&(d.attribs={}),typeof g[1]=="string"&&g[1].length?d.attribs[g[1]]=g[2]:typeof g[3]=="string"&&g[3].length?d.attribs[g[3].toString()]=g[4].toString():typeof g[5]=="string"&&g[5].length?d.attribs[g[5]]=g[6]:typeof g[7]=="string"&&g[7].length&&(d.attribs[g[7]]=g[7])},c.prototype.parseTagName=function(b){if(b==null||b=="")return"";var d=c._reTagName.exec(b);return d?(d[1]?"/":"")+d[2]:""},c.prototype.parseTags=function(){var d=this._buffer.length-1;while(c._reTags.test(this._buffer)){this._next=c._reTags.lastIndex-1;var e=this._buffer.charAt(this._next),f=this._buffer.substring(this._current,this._next),g={raw:f,data:this._parseState==b.Text?f:f.replace(c._reTrim,""),type:this._parseState},h=this.parseTagName(g.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==b.Script){if(h=="/script")this._tagStack.pop();else if(g.raw.indexOf("!--")!=0){g.type=b.Text;if(this._elements.length&&this._elements[this._elements.length-1].type==b.Text){var i=this._elements[this._elements.length-1];i.raw=i.data=i.raw+this._prevTagSep+g.raw,g.raw=g.data=""}}}else if(this._tagStack[this._tagStack.length-1]==b.Style){if(h=="/style")this._tagStack.pop();else if(g.raw.indexOf("!--")!=0){g.type=b.Text;if(this._elements.length&&this._elements[this._elements.length-1].type==b.Text){var i=this._elements[this._elements.length-1];g.raw!=""?(i.raw=i.data=i.raw+this._prevTagSep+g.raw,g.raw=g.data=""):i.raw=i.data=i.raw+this._prevTagSep}else g.raw!=""&&(g.raw=g.data=g.raw)}}else if(this._tagStack[this._tagStack.length-1]==b.Comment){var j=g.raw.length;if(g.raw.charAt(j-2)=="-"&&g.raw.charAt(j-1)=="-"&&e==">"){this._tagStack.pop();if(this._elements.length&&this._elements[this._elements.length-1].type==b.Comment){var i=this._elements[this._elements.length-1];i.raw=i.data=(i.raw+g.raw).replace(c._reTrimComment,""),g.raw=g.data="",g.type=b.Text}else g.type=b.Comment}else{g.type=b.Comment;if(this._elements.length&&this._elements[this._elements.length-1].type==b.Comment){var i=this._elements[this._elements.length-1];i.raw=i.data=i.raw+g.raw+e,g.raw=g.data="",g.type=b.Text}else g.raw=g.data=g.raw+e}}if(g.type==b.Tag){g.name=h;if(g.raw.indexOf("!--")==0){g.type=b.Comment,delete g.name;var j=g.raw.length;g.raw.charAt(j-1)=="-"&&g.raw.charAt(j-2)=="-"&&e==">"?g.raw=g.data=g.raw.replace(c._reTrimComment,""):(g.raw+=e,this._tagStack.push(b.Comment))}else g.raw.indexOf("!")==0||g.raw.indexOf("?")==0?g.type=b.Directive:g.name=="script"?(g.type=b.Script,g.data.charAt(g.data.length-1)!="/"&&this._tagStack.push(b.Script)):g.name=="/script"?g.type=b.Script:g.name=="style"?(g.type=b.Style,g.data.charAt(g.data.length-1)!="/"&&this._tagStack.push(b.Style)):g.name=="/style"&&(g.type=b.Style);g.name&&g.name.charAt(0)=="/"&&(g.data=g.name)}if(g.raw!=""||g.type!=b.Text)this._options.includeLocation&&!g.location&&(g.location=this.getLocation(g.type==b.Tag)),this.parseAttribs(g),this._elements.push(g),g.type!=b.Text&&g.type!=b.Comment&&g.type!=b.Directive&&g.data.charAt(g.data.length-1)=="/"&&this._elements.push({raw:"/"+g.name,data:"/"+g.name,name:"/"+g.name,type:g.type});this._parseState=e=="<"?b.Tag:b.Text,this._current=this._next+1,this._prevTagSep=e}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=d?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},c.prototype.getLocation=function(b){var c,d=this._location,e=this._current-(b?1:0),f=b&&d.charOffset==0&&this._current==0;for(;d.charOffset<e;d.charOffset++)c=this._buffer.charAt(d.charOffset),c=="\n"?(d.inBuffer++,d.col=0):c!="\r"&&d.col++;return{line:d.row+d.inBuffer+1,col:d.col+(f?0:1)}},c.prototype.validateHandler=function(b){if(typeof b!="object")throw new Error("Handler is not an object");if(typeof b.reset!="function")throw new Error("Handler method 'reset' is invalid");if(typeof b.done!="function")throw new Error("Handler method 'done' is invalid");if(typeof b.writeTag!="function")throw new Error("Handler method 'writeTag' is invalid");if(typeof b.writeText!="function")throw new Error("Handler method 'writeText' is invalid");if(typeof b.writeComment!="function")throw new Error("Handler method 'writeComment' is invalid");if(typeof b.writeDirective!="function")throw new Error("Handler method 'writeDirective' is invalid")},c.prototype.writeHandler=function(c){c=!!c;if(this._tagStack.length&&!c)return;while(this._elements.length){var d=this._elements.shift();switch(d.type){case b.Comment:this._handler.writeComment(d);break;case b.Directive:this._handler.writeDirective(d);break;case b.Text:this._handler.writeText(d);break;default:this._handler.writeTag(d)}}},c.prototype.handleError=function(b){if(typeof this._handler.error!="function")throw b;this._handler.error(b)},exports.Parser=c})();(function(a){function d(){var a=this;this.loaded=[],this.loadedObj={},this.globalFont,this.load=function(a){var b="@font-face { font-family: '"+a+"'; src: url('"+c+"/"+a+".ttf'); }";b+="\n em{ font-family: 'arial'; font-style: normal; }",b+="\n ."+a+"{ font-family: "+a+"}";var d=document.createElement("style");d.type="text/css",d.innerHTML=b;var e=document.getElementsByTagName("head")[0];e.appendChild(d),this.loaded.push(a),this.loadedObj[a]=!0},this.global=function(b){a.load(b),a.globalFont=b},this.isLoaded=function(a){return this.loadedObj[a]?!0:!1},this.convert=function(a,b){return h(a,b)},this.enable=function(b,c){var d=$(b);f(d,c)},this.ready=function(a){SCRIPTS.ready(function(){$(function(){a()})})}}function f(a,b){for(var c=0;c<a.length;c++){var d=$(a[c]),e=h(d.html(),b);d.html(e)}}function h(a,b){function f(a,e){function f(b){a&&a(b,c)}function h(a){console.log(a);var b=[],c=a.split(" ");for(var d=1;d<c.length;d++){var e=c[d].split("="),f={};f.name=e[0],f.escaped=f.value=e[1]?e[1].trim().replace(/'/g,"").replace(/"/g,""):"",b.push(f)}return console.log(b),b}this.reset=function(){c=""},this.done=function(){f(null)},this.writeTag=function(b){if(b.name.substring(0,1)!="/"){var e={name:b.name,convert:j(b.name,h(b.raw))};d.push(e)}else d.pop();c+="<"+b.raw+" style: 'font-family: derana;'>"},this.writeText=function(e){var f=d[d.length-1];if(f.convert){var h=b?"font-family: "+b+";":"";c+="<span class='akuru-converted' style='"+h+"'>"+g.convert(e.raw,b)+"</span>"}else c+=e.raw},this.writeComment=function(){},this.writeDirective=function(){},this.error=function(b){f(b)}}function j(a,b){var c={em:!0,pre:!0,code:!0},d=!0;return c[a]?d=!1:b&&b.forEach(function(a){if(a.name=="class"&&a.escaped=="akuru-converted")d=!1;else if(a.name=="class"&&a.value!=""){var b=a.value.split(" ");b.forEach(function(a){d=!e.isLoaded(a)})}}),d}var c="",d=[];d.push({name:"div",convert:!0});var h=new f,i=new Tautologistics.NodeHtmlParser.Parser(h);return i.parseComplete(a),c}function i(){var a=document.getElementsByTagName("script"),b=a[a.length-1].src;return b=b.split("?")[0].split("#")[0],b=b.substring(0,b.lastIndexOf("/")),b}var b=a.SCRIPT_DIR=i(),c=b+"/fonts",e=a.akuru=new d;SCRIPTS.ready(function(){$(function(){f($(".akuru")),e.loaded.forEach(function(a){f($("."+a),a)})})});var g=new LegacyConverter})(window);/* 
	External Resource Loader
	------------------------
	loading zepto if jQuery is not loaded
*/function loadJs(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,navigator.userAgent.indexOf("MSIE")>-1?c.onload=c.onreadystatechange=function(){(this.readyState=="loaded"||this.readyState=="complete")&&b&&b(),c.onload=c.onreadystatechange=null}:c.onload=b,document.getElementsByTagName("head")[0].appendChild(c)}typeof jQuery=="undefined"&&typeof Zepto=="undefined"?loadJs(SCRIPT_DIR+"/vendors/zepto.min.js",function(){SCRIPTS.start()}):SCRIPTS.start();